<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Focus</title>

    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
 

    <style>

    </style>
<link href='fullcalendar/lib/main.css' rel='stylesheet' />
<script src='fullcalendar/lib/main.js'></script>
<script src='fullcalendar/lib/locales/fr.js'></script>

<script>

events = [
  {
    "title": "1",
    "start": "2022-10-01",
    "id":1
  },
  {
    "title": "3",
    "start": "2022-10-07",
    "id":2
  },
  {
    "title": "10",
    "start": "2022-10-09",
    "id":3
  },
  {
    "title": "2",
    "start": "2022-10-16",
    "id":4,
  },
  {
    "title": "4",
    "start": "2022-10-21",
    "id":5
  },
  {
    "title": "7",
    "start": "2022-10-22",
    "id":6
  }
];

eventsUP = [
  {
    "title": "UNICANCER-AO-123",
    "start": "2022-10-01",
    "id":1
  },
  {
    "title": "AO-456",
    "start": "2022-10-07",
    "id":2
  },
  {
    "title": "AO-789",
    "start": "2022-10-09",
    "id":3
  },
  {
    "title": "A0-012",
    "start": "2022-10-16",
    "id":4,
  },
  {
    "title": "AO-345",
    "start": "2022-10-21",
    "id":5
  },
  {
    "title": "AO-678",
    "start": "2022-10-22",
    "id":6
  }
];

  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');
    var calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'listMonth',
        initialDate: '2022-10-22',
        locale: 'fr',
        themeSystem: 'bootstrap5',
        headerToolbar: {
            left: "title",
            center: "",
            right: "prev,today,next filter",
        },
        footerToolbar: {
            left: "",
            center: "",
            right: "",
        },
        buttonIcons:{
            prev: 'chevron-left',
            next: 'chevron-right',
            listMonth: 'list-ul',
            dayGridMonth: 'calendar',
            filter:'sliders',
            today:'calendar4-event',
        },
        customButtons: {
            filter: {
                text: 'F',
                click: function() {
                    alert('clicked filter button!');
                },
            }
        },
        displayEventTime : false,
        events: eventsUP,
        eventClick: function(info) {
            console.log(info.view.type+' : '+info.event.startStr+" > "+info.event.title+" : "+info.event.id)
            //info.el.style.borderColor = 'red';
            if (info.view.type=="listMonth"){
                //alert("detail appel d'offres id: "+info.event.id);
                window.location.href = "detail.html";
            }
        },
        dateClick: function(info) {
            console.log(info.view.type+' : '+info.dateStr)
            /*if (info.view.type=="dayGridMonth"){
                calendar.changeView('listMonth', info.dateStr);
                console.log(calendar.getEvents())
                calendar.setOption('events', eventsUP);
                console.log(calendar.getEvents())

                //alert(info.resource);
            }*/
            //info.dayEl.style.backgroundColor = 'green';
        },
        eventContent: function (args, createElement){
            if (args.view.type=="listMonth"){
                // border-radius:0.375rem; background-color: rgb(13, 110, 253);border: 1px solid rgb(13, 110, 253);
                const text = args.event._def.title + '<div onclick="alert( \'event id: '+args.event.id +'\')" style="float: right; "><i class="bi bi-arrows-angle-expand"></i> </div>';
            return {
                html: text}
            }
        },
        
    });
    calendar.render();
  });

</script>



</head>
<body>
    <header>
        <div class="header-item header-logo">
            <a href="https://mflog.github.io/calao/login.html">
                <img src="img/logo_amgen.png" alt="Logo AMGEN">
            </a>
        </div>
        <div class="header-item header-title">
            <h1>FOCUS</h1>
        </div>
    </header>

    <main>
      
      <div class="calendar" id='calendar'></div>
  
    </main>

    <nav class="menu-nav">
        
            <div class="menu-li"><a href="calendar.html"><i class="bi bi-calendar"></i><div class="icon-title">Calendrier</div></a></div>
            <div class="menu-li"><a href="#"><i class="bi bi-search"></i><div class="icon-title">Focus</div></a></div>
            <!-- <div class="menu-li"><a href="#"><i class="bi bi-sliders"></i><br>Filtres</a></div> -->
            <div class="menu-li"><a href="alerts.html"><i class="bi bi-bell"></i><div class="icon-title">Notifications</div></a></div>
            <div class="menu-li"><a href="settings.html"><i class="bi bi-gear-wide-connected"></i><div class="icon-title">RÃ©glages</div></a></div>
        
    </nav>

</body>
<script>
    //iPhone view height correction
    const appHeight = () => {
        const vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', `${vh}px`);
    }
    window.addEventListener('resize', appHeight)
    appHeight()
</script>

</html>